<div class="prose flex flex-wrap w-full max-w-full">
  <div class="flex flex-col w-full max-w-96 m-3">
    <div class="flex m-3">
      <h2 class="m-1">
        <fa-icon class="cursor-pointer" [icon]="faChevronLeft" [routerLink]="['/planes']"></fa-icon>
      </h2>
      <h2 class="m-1">
        {{ plane.immat }}
      </h2>
      <h2 class="m-1">
        {{ plane.name }}
      </h2>
      <h3 class="m-1">
        <button class="btn btn-active btn-sm"
                (click)="toggleInformationPanel()">{{ detailedMode ? "Simple" : "Detailed" }}
        </button>
      </h3>
    </div>
    <computation-form
      (output)="compute($event)"
    />

    @if (completePerformanceComputeResponse) {
      <div class="flex flex-col">
        <div class="flex">
          <computation-results class="w-1/2"
                               [performanceComputeResponse]="completePerformanceComputeResponse.takeOffPerformanceComputeResponse"
                               [type]="'TAKE_OFF'"/>
          <computation-results class="w-1/2"
                               [performanceComputeResponse]="completePerformanceComputeResponse.landingPerformanceComputeResponse"
                               [type]="'LANDING'"/>
        </div>
      </div>
    }
  </div>
  @if (detailedMode) {
    @if (completePerformanceComputeResponse) {
      <div class="flex flex-col w-full max-w-96 m-3">
        <h2 class="mt-3">Computation details</h2>
        <div>
          <h4 class="m-1">Take off</h4>
          <computation-details
            [performanceComputeResponse]="completePerformanceComputeResponse.takeOffPerformanceComputeResponse"
          />
          <h4 class="m-1">Landing</h4>
          <computation-details
            [performanceComputeResponse]="completePerformanceComputeResponse.landingPerformanceComputeResponse"
          />
        </div>
      </div>
    }
    <div class="flex flex-col w-full max-w-96 m-3">
      <h2 class="mt-3">Performances</h2>
      <div>
        <h4 class="m-1">Take off</h4>
        <performance-table
          [dataPoints]="plane.takeOfDataPoints"
        />
        <h4 class="m-1">Landing</h4>
        <performance-table
          [dataPoints]="plane.landingDataPoints"
        />
      </div>
    </div>
    <div class="w-full max-w-96 m-3">
      <h2 class="mt-3">Coefficients</h2>
      <computation-factors
        [securityFactor]="securityFactor"
        [landingRunwayFactors]="plane.landingRunwayFactors"
        [takeOffRunwayFactors]="plane.takeOffRunwayFactors"
        [takeOffWindCoefficientComputationData]="plane.takeOffCoefficientsComputationData"
        [landingWindCoefficientComputationData]="plane.landingCoefficientsComputationData"
      />
    </div>
  }
</div>
